{"version":3,"sources":["config.js","App.js","index.js"],"names":["CONTRACT_ADDRESS","TODO_ENTER_YOUR_KEY","CONTRACT_ABI","inputs","stateMutability","type","name","outputs","internalType","App","props","state","account","balance","owner","expeditor","this","loadWeb3","loadBlockchainData","window","ethereum","console","log","web3","Web3","enable","currentProvider","alert","givenProvider","MyDeposit","eth","Contract","getAccounts","accounts","setState","methods","call","owners","getBalance","balances","address","transferEther","send","from","gas","className","Component","rootElement","document","getElementById","createRoot","render"],"mappings":"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","file":"static/js/main.8345800f.chunk.js","sourcesContent":["export const CONTRACT_ADDRESS = \"0xe78a5c60fa13BBB677d4c1D37a007ed59bE5Ca2e\";\r\n\r\nexport const TODO_ENTER_YOUR_KEY = \"4dbec6e76f1a42b7ba71e789e4e67e60\";\r\n\r\nexport const CONTRACT_ABI = [\r\n  {\r\n    inputs: [],\r\n    stateMutability: \"nonpayable\",\r\n    type: \"constructor\"\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: \"getBalance\",\r\n    outputs: [\r\n      {\r\n        internalType: \"uint256\",\r\n        name: \"\",\r\n        type: \"uint256\"\r\n      }\r\n    ],\r\n    stateMutability: \"view\",\r\n    type: \"function\"\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: \"owner\",\r\n    outputs: [\r\n      {\r\n        internalType: \"address\",\r\n        name: \"\",\r\n        type: \"address\"\r\n      }\r\n    ],\r\n    stateMutability: \"view\",\r\n    type: \"function\"\r\n  },\r\n  {\r\n    inputs: [],\r\n    name: \"sendEther\",\r\n    outputs: [],\r\n    stateMutability: \"payable\",\r\n    type: \"function\"\r\n  },\r\n  {\r\n    inputs: [\r\n      {\r\n        internalType: \"address payable\",\r\n        name: \"recipient\",\r\n        type: \"address\"\r\n      },\r\n      {\r\n        internalType: \"uint256\",\r\n        name: \"amount\",\r\n        type: \"uint256\"\r\n      }\r\n    ],\r\n    name: \"transferEther\",\r\n    outputs: [\r\n      {\r\n        internalType: \"bool\",\r\n        name: \"\",\r\n        type: \"bool\"\r\n      }\r\n    ],\r\n    stateMutability: \"nonpayable\",\r\n    type: \"function\"\r\n  }\r\n];\r\n","import React, { Component } from \"react\";\nimport Web3 from \"web3\";\nimport \"./App.css\";\nimport { CONTRACT_ABI, CONTRACT_ADDRESS, TODO_ENTER_YOUR_KEY } from \"./config\";\n\nclass App extends Component {\n  async UNSAFE_componentWillMount() {\n    await this.loadWeb3();\n    await this.loadBlockchainData();\n  }\n\n  async loadWeb3() {\n    if (window.ethereum) {\n      console.log(\"11\");\n      window.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    } else if (window.web3) {\n      console.log(\"22\");\n      window.web3 = new Web3(window.web3.currentProvider);\n    } else {\n      console.log(\"33\");\n      window.alert(\"No ethereum broswer detected! You can check out MetaMask!\");\n    }\n  }\n\n  async loadBlockchainData() {\n    const web3 = new Web3(\n      Web3.givenProvider || \"https://goerli.infura.io/v3/\" + TODO_ENTER_YOUR_KEY\n    );\n\n    console.log(\"https://goerli.infura.io/v3/\" + TODO_ENTER_YOUR_KEY);\n\n    const MyDeposit = new web3.eth.Contract(CONTRACT_ABI, CONTRACT_ADDRESS);\n    console.log(MyDeposit);\n\n    //call de l'account metamask\n    const accounts = [await web3.eth.getAccounts()];\n    this.setState({ account: accounts[0] });\n    console.log(\"44\");\n\n    // call du owner\n    const owners = [await MyDeposit.methods.owner().call()];\n    this.setState({ owner: owners[0] });\n    console.log(\"this.state.owner : \" + this.state.owner);\n    console.log(\"55\");\n\n    //call de la balance\n    const balances = [await MyDeposit.methods.getBalance().call()];\n    console.log(balances[0]);\n    this.setState({ balance: balances[0] });\n    console.log(\"this.state.balance : \" + this.state.balance);\n\n    const address = this.state.owner;\n    this.setState({ expeditor: address[0] });\n\n    // send ether from contract to this.state.owner\n    await MyDeposit.methods\n      .transferEther(\"0x2132976b2Ba01016293D8A7dc5c2cc7f633B1600\", [10])\n      .send({\n        from: \"0x3B8F16325799ce799555243418df22C5c8e81f48\",\n        gas: 3000000\n      });\n\n    // transfert ether to contract,\n\n    // await MyDeposit.methods.sendEther().send({from: address , value: 10});\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      account: [],\n      balance: [],\n      owner: [],\n      expeditor: \"\"\n    };\n  }\n\n  render() {\n    return (\n      <div>\n        <header>\n          <div className=\"text-center\">\n            <h1 className=\"text-center\">\n              Connect Metamask and Access a smart contract\n            </h1>\n            <h2 className=\"text-center\">Address : {CONTRACT_ADDRESS}</h2>\n            <p className=\"text-center\">Deployed on Goerli Network</p>\n          </div>\n        </header>\n\n        <body>\n          <div>\n            <div>\n              <h2 className=\"text-center \">Metamask informations</h2>\n              <p>Metamask connected account is : {this.state.account} </p>\n            </div>\n            <div className=\"text-center\">\n              <h2 className=\"text-center \">Contract informations</h2>\n              <p> Contract balance is : {this.state.balance} </p>\n              <p> Contract owner is : {this.state.owner} </p>\n            </div>\n          </div>\n        </body>\n      </div>\n    );\n  }\n}\n\nexport default App;\n\n/*\n\n    <Container>\n      <Row>\n        <Col>1 of 3</Col>\n        <Col xs={6}>2 of 3 (wider)</Col>\n        <Col>3 of 3</Col>\n      </Row>\n      <Row>\n        <Col>1 of 3</Col>\n        <Col xs={5}>2 of 3 (wider)</Col>\n        <Col>3 of 3</Col>\n      </Row>\n    </Container>\n*/\n","import { StrictMode } from \"react\";\nimport { createRoot } from \"react-dom/client\";\n\nimport App from \"./App\";\n\nconst rootElement = document.getElementById(\"root\");\nconst root = createRoot(rootElement);\n\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n"],"sourceRoot":""}